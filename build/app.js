(()=>{"use strict";function e(t,o=0,n,c=85){t.style.display=n;const r=o+.1;r<=1&&(t.style.opacity=r,setTimeout((()=>e(t,r,n,c)),c))}function t(e,o=1,n=85,c){const r=o-.1;r>=0?(e.style.opacity=r,setTimeout((()=>t(e,r,n,c)),n)):(e.style.display="none",c())}const o=document.querySelectorAll("[escolha]"),n=document.querySelector("[rebootGame]"),c=document.querySelector(".escolha"),r=document.querySelectorAll("[play]"),i=Array.from(r),l=document.querySelector(".board"),u=document.querySelector(".button-reboot"),d=document.querySelector(".vezDisplay"),a=document.querySelector("[vezAtual]"),s=document.createElement("h1");let m=document.querySelector(".vezAtual"),y="",b="",f="",p="";function v(o){y=o.textContent,b="X"===y?"O":"X",f=o.textContent,m.innerHTML=o.textContent,t(c,1,85,(()=>(e(d,0,"block"),e(l,0,"grid"),void e(a,0,"block"))))}function h(e){e.innerHTML=f,p=e.textContent,e.setAttribute("disabled",!0),function(){const e=i.map((e=>"X"===e.textContent)),t=i.map((e=>"O"===e.textContent)),o=i.map((e=>""!=e.textContent));function n(e){return e[0]&&e[1]&&e[2]||e[3]&&e[4]&&e[5]||e[6]&&e[7]&&e[8]||e[0]&&e[3]&&e[6]||e[1]&&e[4]&&e[7]||e[2]&&e[5]&&e[8]||e[0]&&e[4]&&e[8]||e[2]&&e[4]&&e[6]}const c=e=>e.reduce(((e,t)=>e&&t)),r=n(e),l=n(t),u=c(o);r?q("Vitória de X"):l?q("Vitória de O"):!u||r||l||q("Empate")}(),l.onclick=()=>{f=p===y?b:y,m.innerHTML=f}}function q(o){r.forEach((e=>e.setAttribute("disabled",!0))),t(a,1,40,(()=>d.appendChild(s).innerHTML=`Fim de jogo. <br> ${o}.`)),e(u,0,"block",20)}o.forEach((e=>e.addEventListener("click",(()=>v(e))))),r.forEach((e=>e.addEventListener("click",(()=>h(e))))),n.addEventListener("click",(()=>(d.removeChild(s),t(l,1,5,(()=>{})),t(d,1,5,(()=>{})),e(c,0,"block"),r.forEach((e=>{e.innerHTML="",e.removeAttribute("disabled")})),void t(u,1,35,(()=>{})))))})();